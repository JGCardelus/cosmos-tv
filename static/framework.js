//Global variables
const DEBUG = false;
let allowPageChange = true;

//CONNECT TO SERVER
let socket = null;

function connectServer() {
    //$SOCKET_IP
      socket = io.connect("http://172.24.136.161:8080"); //This line was autogenerated.

    socket.emit('validate_connection');
    socket.on('connection_validated', function() {
        console.log("Connected to server. Welcome back");
    });

}

function loadMDC() {
    $('.button').addClass('mdc-ripple-surface');
    $('.button').attr('data-mdc-auto-init', 'MDCRipple');

    $('.round-button').addClass('mdc-ripple-surface');
    $('.round-button').attr('data-mdc-auto-init', 'MDCRipple');

    $('.fab').addClass('mdc-ripple-surface');
    $('.fab').attr('data-mdc-auto-init', 'MDCRipple');

    $('.mdc-icon-button').attr('data-mdc-auto-init', 'MDCRipple');
    $('.mdc-fab').attr('data-mdc-auto-init', 'MDCRipple');

    mdc.autoInit();
}

function startEnvironment() {
    if (!DEBUG) {
        connectServer();
    }
    loadMDC();
}

startEnvironment();

//PAGE BEHAVIOUR
let windowWidth = $(window).width();
let windowHeight = $(window).height();

$(window).on('resize', function() {
    windowWidth = $(window).width();
    windowHeight = $(window).height();
});